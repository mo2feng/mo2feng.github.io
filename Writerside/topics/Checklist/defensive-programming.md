# 检查清单：防御式编程

## 一般事宜

+ 子程序是否可以保护自己免遭错误输入数据的破坏？
+ 是否使用断言来声明假设，包括前置条件和后置条件？
+ 断言是否仅用于声明永远不应该发生的情况？
+ 是否在架构和高层级设计中制定了一组特定的错误处理技术？
+ 是否在架构和高层级设计中规定了错误处理是应更倾向于健壮性还是正确性？
+ 是否建立了隔板来包容错误可能造成的破坏，并减少与错误处理有关的代码数量？
+ 代码中是否使用了辅助调试代码？
+ 如果要启用和停用辅助调试代码, 是否不需要大动干戈？
+ 防御式编程引入的代码的数量是否合适，即不太多，也不太少？
+ 在开发阶段是否使用进攻式编程技术来使错误很难被忽视?

## 异常
+ 在项目中是否定义了一种标准化的异常处理方法？
+ 是否考虑过异常之外的其他替代方案？
+ 错误是不是已尽可能在局部处理，而不是作为异常向外抛出？
+ 代码中是否避免了在构造函数和析构函数中抛出异常？
+ 是否所有的异常都与抛出它们的子程序处于统一抽象层次上？
+ 每个异常是否包含了关于异常发生的所有背景信息？
+ 代码中是否没有使用空的catch块？或者，如果使用空的catch块确实很合适，是不是明确声明了？

## 安全事宜
+ 检查错误输入数据的代码是否也检查了缓冲区溢出、SQL注入、HTML注入、整数溢出和其他恶意输入？
+ 是否检查了所有错误返回码？
+ 是否捕获了所有的异常？
+ 粗错消息中是否避免了出现有助于攻击者攻入系统的消息？